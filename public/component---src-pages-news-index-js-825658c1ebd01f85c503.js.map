{"version":3,"sources":["webpack:///./src/pages/news/index.js"],"names":["Contentful","require","News","navigate","console","log","useState","pageTitle","posts","setPosts","displayPosts","setDisplayPosts","client","createClient","space","accessToken","useEffect","getEntries","content_type","then","entries","dir","res","items","length","map","e","fields","image","file","url","date","Date","sys","createdAt","toDateString","id","clearActiveFilter","document","querySelector","classList","remove","applyFilter","tag","filter","post","tags","includes","showModal","setShowModal","handleClose","show","onHide","centered","size","Header","closeButton","Title","Body","className","width","src","Footer","variant","onClick","target","add","md","sm","href","class","stroke","fill","stroke-width","viewBox","height","xmlns","d","preventDefault","index","key","postId","title","excerpt","author"],"mappings":"4FAAA,wGAOMA,GAPN,UAOmBC,EAAQ,SA2OZC,UA1OF,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACdC,QAAQC,IAAIF,GADiB,MAEKG,mBAAS,QAApCC,EAFsB,aAGHD,mBAAS,KAA5BE,EAHsB,KAGfC,EAHe,OAIWH,mBAAS,IAA1CI,EAJsB,KAIRC,EAJQ,KAMvBC,EAASZ,EAAWa,aAAa,CACrCC,MAAO,eACPC,YAAa,gDAGfC,qBAAU,WACRJ,EACGK,WAAW,CACVC,aAAc,gBAEfC,MAAK,SAASC,GACbhB,QAAQiB,IAAID,GACZ,IAAIE,EAAM,GACNF,EAAQG,MAAMC,OAAS,IACzBF,EAAMF,EAAQG,MAAME,KAAI,SAAAC,GAAC,wBACpBA,EAAEC,OADkB,CAEvBC,MAAOF,EAAEC,OAAOC,MAAMD,OAAOE,KAAKC,IAClCC,KAAM,IAAIC,KAAKN,EAAEO,IAAIC,WAAWC,eAChCC,GAAIV,EAAEO,IAAIG,QAEZhC,QAAQC,IAAIiB,GACZb,EAASa,GACTX,EAAgBW,SAGrB,IAEH,IAAMe,EAAoB,WACxBC,SAASC,cAAc,WAAWC,UAAUC,OAAO,WAM/CC,EAAc,SAAAC,GAClB,GAAMA,EAAK,CACT,IAAMrB,EAAMd,EAAMoC,QAAO,SAAAC,GAAI,OAAIA,EAAKC,KAAKC,SAASJ,MACpDhC,EAAgBW,QAEhBX,EAAgBH,GAElBJ,QAAQC,IAAI,aA/Ce,EAkDKC,oBAAS,GAApC0C,EAlDsB,KAkDXC,EAlDW,KAmDvBC,EAAc,WAClBD,GAAa,IAKf,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOE,KAAMH,EAAWI,OAAQF,EAAaG,UAAQ,EAACC,KAAK,MACzD,kBAAC,IAAMC,OAAP,CAAcC,aAAW,GACvB,kBAAC,IAAMC,MAAP,eAEF,kBAAC,IAAMC,KAAP,CAAYC,UAAU,gBACpB,yBAAKC,MAAM,MAAMC,IAAK5D,EAAQ,WAEhC,kBAAC,IAAM6D,OAAP,KACE,kBAAC,IAAD,CAAQC,QAAQ,YAAYC,QAASd,GAArC,WAKJ,kBAAC,IAAD,CAAWS,UAAU,QACnB,yBAAKA,UAAU,SACb,4BAAKpD,GACL,yFAGF,yBAAKoD,UAAU,UACb,kBAAC,IAAD,CACEA,UAAU,SACVI,QAAQ,UACRC,QAAS,SAAAtC,GACPW,IACAX,EAAEuC,OAAOzB,UAAU0B,IAAI,UACvBxB,MANJ,OAWA,kBAAC,IAAD,CACEqB,QAAQ,UACRC,QAAS,SAAAtC,GACPW,IACAX,EAAEuC,OAAOzB,UAAU0B,IAAI,UACvBxB,EAAY,UALhB,QAUA,kBAAC,IAAD,CACEqB,QAAQ,UACRC,QAAS,SAAAtC,GACPW,IACAX,EAAEuC,OAAOzB,UAAU0B,IAAI,UACvBxB,EAAY,cALhB,QAUA,kBAAC,IAAD,CACEqB,QAAQ,UACRC,QAAS,SAAAtC,GACPW,IACAX,EAAEuC,OAAOzB,UAAU0B,IAAI,UAEvBxB,EAAY,aANhB,QAWA,kBAAC,IAAD,CACEqB,QAAQ,UACRC,QAAS,SAAAtC,GACPW,IACAX,EAAEuC,OAAOzB,UAAU0B,IAAI,UAEvBxB,EAAY,SANhB,SAaF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKyB,GAAG,IAAIC,GAAG,MACb,yBAAKT,UAAU,iBACb,6BACA,4BAAI,uBAAGU,KAAK,gCAAgCJ,OAAO,UAA/C,kBACF,oFAEF,yBAAKK,MAAM,gBACT,uBAAGD,KAAK,yEAAyEJ,OAAO,UACtF,yBACEM,OAAO,eACPC,KAAK,eACLC,eAAa,IACbC,QAAQ,cACRC,OAAO,OACPf,MAAM,OACNgB,MAAM,8BAEN,0BAAMC,EAAE,mTAGZ,uBAAGR,KAAK,+HAA+HJ,OAAO,UAC5I,yBACEM,OAAO,eACPC,KAAK,eACLC,eAAa,IACbC,QAAQ,cACRC,OAAO,OACPf,MAAM,OACNgB,MAAM,8BAEN,0BAAMC,EAAE,mLAGZ,uBACER,KAAK,IACLJ,OAAO,SACPD,QAAS,SAAAtC,GACPA,EAAEoD,iBArHlB7B,GAAa,KAyHC,yBACEsB,OAAO,eACPC,KAAK,eACLC,eAAa,IACbC,QAAQ,gBACRC,OAAO,OACPf,MAAM,OACNgB,MAAM,8BAEN,0BAAMC,EAAE,grCAGZ,uBAAGR,KAAK,2CAA2CJ,OAAO,UACxD,yBACEM,OAAO,eACPC,KAAK,eACLC,eAAa,IACbC,QAAQ,gBACRC,OAAO,OACPf,MAAM,OACNgB,MAAM,8BAEN,0BAAMC,EAAE,kxBAMlB,kBAAC,IAAD,CAAKV,GAAG,IAAIC,GAAG,MACZ1D,EAAae,KAAI,SAACoB,EAAMkC,GAAP,OAChB,kBAAC,IAAD,CACEC,IAAKD,EACLf,QAAS,WA5KA,IAAAiB,IA6KQpC,EAAKT,GA5KlChC,QAAQC,IAAI,YACZF,EAAS,aAAe8E,KA8KZ,kBAAC,IAAD,CAAKb,GAAG,KAAKD,GAAG,KACd,yBAAKP,MAAM,OAAOC,IAAKhB,EAAKjB,SAE9B,kBAAC,IAAD,CAAKwC,GAAG,KAAKD,GAAG,IAAIR,UAAU,SAC5B,yBAAKA,UAAU,iBACb,4BAAKd,EAAKqC,OACV,uBAAGvB,UAAU,WAAWd,EAAKsC,UAE/B,yBAAKxB,UAAU,eACb,2BAAId,EAAKuC,QACT,2BAAIvC,EAAKd,kB","file":"component---src-pages-news-index-js-825658c1ebd01f85c503.js","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport Layout from \"../../components/layout\"\nimport { Carousel as AndtCarousel } from \"antd\"\nimport { Row, Col, Container, Modal, Card, Button } from \"react-bootstrap\"\n\nimport \"./index.scss\"\n\nconst Contentful = require(\"contentful\")\nconst News = ({ navigate }) => {\n  console.log(navigate)\n  const [pageTitle, setPageTitle] = useState(\"新闻资讯\")\n  const [posts, setPosts] = useState([])\n  const [displayPosts, setDisplayPosts] = useState([])\n\n  const client = Contentful.createClient({\n    space: \"xxnh1wfwedpb\",\n    accessToken: \"2tDLrcvmKpzOorRWsHgbwHodpFLzUHExcvtLrVw9w2E\",\n  })\n\n  useEffect(() => {\n    client\n      .getEntries({\n        content_type: \"postChinese\",\n      })\n      .then(function(entries) {\n        console.dir(entries)\n        let res = []\n        if (entries.items.length > 0) {\n          res = entries.items.map(e => ({\n            ...e.fields,\n            image: e.fields.image.fields.file.url,\n            date: new Date(e.sys.createdAt).toDateString(),\n            id: e.sys.id,\n          }))\n          console.log(res)\n          setPosts(res)\n          setDisplayPosts(res)\n        }\n      })\n  }, [])\n\n  const clearActiveFilter = () => {\n    document.querySelector(\".active\").classList.remove(\"active\")\n  }\n  const handleRowClick = postId => {\n    console.log(\"clicked!\")\n    navigate(\"/post/?id=\" + postId)\n  }\n  const applyFilter = tag => {\n    if (!!tag) {\n      const res = posts.filter(post => post.tags.includes(tag))\n      setDisplayPosts(res)\n    } else {\n      setDisplayPosts(posts)\n    }\n    console.log(\"Applied!\")\n  }\n\n  const [showModal, setShowModal] = useState(false)\n  const handleClose = () => {\n    setShowModal(false)\n  }\n  const handleOpen = () => {\n    setShowModal(true)\n  }\n  return (\n    <Layout>\n      <Modal show={showModal} onHide={handleClose} centered size=\"xs\">\n        <Modal.Header closeButton>\n          <Modal.Title>微信二维码</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"center-align\">\n          <img width=\"200\" src={require(\"../../images/qrcode.jpg\")} />\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      <Container className=\"news\">\n        <div className=\"title\">\n          <h1>{pageTitle}</h1>\n          <h3>Full-screen intro with background image and video popup.</h3>\n        </div>\n\n        <div className=\"filter\">\n          <Button\n            className=\"active\"\n            variant=\"primary\"\n            onClick={e => {\n              clearActiveFilter()\n              e.target.classList.add(\"active\")\n              applyFilter()\n            }}\n          >\n            All\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={e => {\n              clearActiveFilter()\n              e.target.classList.add(\"active\")\n              applyFilter(\"news\")\n            }}\n          >\n            最新资讯\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={e => {\n              clearActiveFilter()\n              e.target.classList.add(\"active\")\n              applyFilter(\"featured\")\n            }}\n          >\n            精彩篇章\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={e => {\n              clearActiveFilter()\n              e.target.classList.add(\"active\")\n\n              applyFilter(\"seminar\")\n            }}\n          >\n            讲座教程\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={e => {\n              clearActiveFilter()\n              e.target.classList.add(\"active\")\n\n              applyFilter(\"faq\")\n            }}\n          >\n            咨询问答\n          </Button>\n        </div>\n\n        <Row>\n          <Col md=\"3\" sm=\"12\">\n            <div className=\"subscribe-box\">\n              <div>\n              <h3><a href=\"http://sv.mikecrm.com/LJVlNbV\" target=\"_blank\">Subscribe now</a></h3>\n                <p>Get personal finance info with our monthly round-up.</p>\n              </div>\n              <div class=\"social-media\">\n                <a href=\"https://www.linkedin.com/company/guaranti-mortgages/?viewAsMember=true\" target=\"_blank\">\n                  <svg\n                    stroke=\"currentColor\"\n                    fill=\"currentColor\"\n                    stroke-width=\"0\"\n                    viewBox=\"0 0 448 512\"\n                    height=\"22px\"\n                    width=\"22px\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path d=\"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z\"></path>\n                  </svg>\n                </a>\n                <a href=\"https://www.facebook.com/GuarantiGroup/?eid=ARBWHHonkTPnUxYBTqLi-qA3C2Kl8mVj1OmohJf4IH-K6OWqyokoJeGuwIdrZbesUShVbKjgEQel7Kvd\" target=\"_blank\">\n                  <svg\n                    stroke=\"currentColor\"\n                    fill=\"currentColor\"\n                    stroke-width=\"0\"\n                    viewBox=\"0 0 320 512\"\n                    height=\"22px\"\n                    width=\"22px\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path d=\"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z\"></path>\n                  </svg>\n                </a>\n                <a\n                  href=\"#\"\n                  target=\"_blank\"\n                  onClick={e => {\n                    e.preventDefault()\n                    handleOpen()\n                  }}\n                >\n                  <svg\n                    stroke=\"currentColor\"\n                    fill=\"currentColor\"\n                    stroke-width=\"0\"\n                    viewBox=\"0 0 1024 1024\"\n                    height=\"22px\"\n                    width=\"22px\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path d=\"M690.1 377.4c5.9 0 11.8.2 17.6.5-24.4-128.7-158.3-227.1-319.9-227.1C209 150.8 64 271.4 64 420.2c0 81.1 43.6 154.2 111.9 203.6a21.5 21.5 0 0 1 9.1 17.6c0 2.4-.5 4.6-1.1 6.9-5.5 20.3-14.2 52.8-14.6 54.3-.7 2.6-1.7 5.2-1.7 7.9 0 5.9 4.8 10.8 10.8 10.8 2.3 0 4.2-.9 6.2-2l70.9-40.9c5.3-3.1 11-5 17.2-5 3.2 0 6.4.5 9.5 1.4 33.1 9.5 68.8 14.8 105.7 14.8 6 0 11.9-.1 17.8-.4-7.1-21-10.9-43.1-10.9-66 0-135.8 132.2-245.8 295.3-245.8zm-194.3-86.5c23.8 0 43.2 19.3 43.2 43.1s-19.3 43.1-43.2 43.1c-23.8 0-43.2-19.3-43.2-43.1s19.4-43.1 43.2-43.1zm-215.9 86.2c-23.8 0-43.2-19.3-43.2-43.1s19.3-43.1 43.2-43.1 43.2 19.3 43.2 43.1-19.4 43.1-43.2 43.1zm586.8 415.6c56.9-41.2 93.2-102 93.2-169.7 0-124-120.8-224.5-269.9-224.5-149 0-269.9 100.5-269.9 224.5S540.9 847.5 690 847.5c30.8 0 60.6-4.4 88.1-12.3 2.6-.8 5.2-1.2 7.9-1.2 5.2 0 9.9 1.6 14.3 4.1l59.1 34c1.7 1 3.3 1.7 5.2 1.7a9 9 0 0 0 6.4-2.6 9 9 0 0 0 2.6-6.4c0-2.2-.9-4.4-1.4-6.6-.3-1.2-7.6-28.3-12.2-45.3-.5-1.9-.9-3.8-.9-5.7.1-5.9 3.1-11.2 7.6-14.5zM600.2 587.2c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c0 19.8-16.2 35.9-36 35.9zm179.9 0c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9a36.08 36.08 0 0 1-36 35.9z\"></path>\n                  </svg>\n                </a>\n                <a href=\"https://www.instagram.com/guarantigroup/\" target=\"_blank\">\n                  <svg\n                    stroke=\"currentColor\"\n                    fill=\"currentColor\"\n                    stroke-width=\"0\"\n                    viewBox=\"0 0 1024 1024\"\n                    height=\"22px\"\n                    width=\"22px\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path d=\"M512 378.7c-73.4 0-133.3 59.9-133.3 133.3S438.6 645.3 512 645.3 645.3 585.4 645.3 512 585.4 378.7 512 378.7zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zM512 717.1c-113.5 0-205.1-91.6-205.1-205.1S398.5 306.9 512 306.9 717.1 398.5 717.1 512 625.5 717.1 512 717.1zm213.5-370.7c-26.5 0-47.9-21.4-47.9-47.9s21.4-47.9 47.9-47.9 47.9 21.4 47.9 47.9a47.84 47.84 0 0 1-47.9 47.9z\"></path>\n                  </svg>\n                </a>\n              </div>\n            </div>\n          </Col>\n          <Col md=\"9\" sm=\"12\">\n            {displayPosts.map((post, index) => (\n              <Row\n                key={index}\n                onClick={() => {\n                  handleRowClick(post.id)\n                }}\n              >\n                <Col sm=\"12\" md=\"4\">\n                  <img width=\"100%\" src={post.image} />\n                </Col>\n                <Col sm=\"12\" md=\"8\" className=\"right\">\n                  <div className=\"title-section\">\n                    <h6>{post.title}</h6>\n                    <p className=\"excerpt\">{post.excerpt}</p>\n                  </div>\n                  <div className=\"date-author\">\n                    <p>{post.author}</p>\n                    <p>{post.date}</p>\n                  </div>\n                </Col>\n              </Row>\n            ))}\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  )\n}\n\nexport default News\n"],"sourceRoot":""}